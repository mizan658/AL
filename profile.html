<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up - DIU Private Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #1877f2; /* Facebook blue */
      --primary-hover: #166fe5;
      --success-color: #42b72a;
      --success-hover: #36a420;
      --bg-color: #f0f2f5;
      --card-color: #ffffff;
      --text-color: #1c1e21;
      --secondary-text: #606770;
      --border-color: #dddfe2;
      --error-color: #ff4d4f;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 980px;
      width: 100%;
    }
    
    .header {
      text-align: center;
      margin-bottom: 20px;
    }
    
    .logo {
      font-size: 32px;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 10px;
    }
    
    .subtitle {
      font-size: 18px;
      color: var(--secondary-text);
      margin-bottom: 24px;
    }
    
    .card {
      background-color: var(--card-color);
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), 0 8px 16px rgba(0, 0, 0, 0.1);
      padding: 20px;
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    
    .card-title {
      font-size: 18px;
      margin-bottom: 20px;
      color: var(--secondary-text);
    }
    
    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 12px;
      border-radius: 6px;
      font-size: 17px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s;
      border: none;
      margin-bottom: 15px;
    }
    
    .btn-primary {
      background-color: var(--primary-color);
      color: white;
    }
    
    .btn-primary:hover {
      background-color: var(--primary-hover);
    }
    
    .btn-google {
      background-color: white;
      color: var(--text-color);
      border: 1px solid var(--border-color);
    }
    
    .btn-google:hover {
      background-color: #f5f5f5;
    }
    
    .btn-icon {
      margin-right: 10px;
      width: 20px;
      height: 20px;
    }
    
    .divider {
      display: flex;
      align-items: center;
      margin: 20px 0;
      color: var(--secondary-text);
      font-size: 12px;
    }
    
    .divider::before,
    .divider::after {
      content: "";
      flex: 1;
      border-bottom: 1px solid var(--border-color);
    }
    
    .divider::before {
      margin-right: 10px;
    }
    
    .divider::after {
      margin-left: 10px;
    }
    
    .footer {
      margin-top: 28px;
      text-align: center;
      font-size: 14px;
      color: var(--secondary-text);
    }
    
    .error {
      color: var(--error-color);
      margin-top: 15px;
      font-size: 14px;
      padding: 10px;
      background-color: #fff2f0;
      border-radius: 4px;
      border: 1px solid #ffccc7;
    }
    
    .features {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
      max-width: 800px;
    }
    
    .feature {
      flex: 1;
      min-width: 250px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .feature-icon {
      font-size: 24px;
      margin-bottom: 10px;
      color: var(--primary-color);
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .features {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="logo">DIU Portal</div>
      <div class="subtitle">Connect with your university community</div>
    </div>
    
    <div class="card">
      <h2 class="card-title">Create a New Account</h2>
      
      <button id="googleSignInBtn" class="btn btn-google">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" class="btn-icon" alt="Google logo">
        Sign Up with Google
      </button>
      
      <div class="divider">or</div>
      
      <button class="btn btn-primary" disabled>
        Sign Up with Email
      </button>
      
      <p style="font-size: 12px; color: var(--secondary-text); margin-top: 15px;">
        By signing up, you agree to our Terms, Data Policy and Cookies Policy.
      </p>
      
      <p class="error" id="errorMsg"></p>
    </div>
    
    <div class="footer">
      <p>Already have an account? <a href="#" style="color: var(--primary-color); text-decoration: none;">Log In</a></p>
    </div>
    
    <div class="features">
      <div class="feature">
        <div class="feature-icon">ðŸ“š</div>
        <h3>Academic Resources</h3>
        <p>Access course materials, grades, and academic records all in one place.</p>
      </div>
      <div class="feature">
        <div class="feature-icon">ðŸ‘¥</div>
        <h3>Connect with Peers</h3>
        <p>Join student groups and collaborate with classmates on projects.</p>
      </div>
      <div class="feature">
        <div class="feature-icon">ðŸ””</div>
        <h3>Stay Updated</h3>
        <p>Get important university announcements and event notifications.</p>
      </div>
    </div>
  </div>

  <script type="module">
    // Import Firebase SDK
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-auth.js";

    // Firebase config directly added here
    const firebaseConfig = {
      apiKey: "AIzaSyDiActU-ePRUSuYNHrbiOZNaIpmzSt5QnM",
      authDomain: "notice-8edc7.firebaseapp.com",
      projectId: "notice-8edc7",
      storageBucket: "notice-8edc7.appspot.com",
      messagingSenderId: "948590141987",
      appId: "1:948590141987:web:a9af8252e98f2933f40796",
      measurementId: "G-DSM883VQPT"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // Google Sign-In Logic
    document.getElementById("googleSignInBtn").addEventListener("click", () => {
      document.getElementById("errorMsg").textContent = "";
      
      signInWithPopup(auth, provider)
        .then((result) => {
          const user = result.user;
          if (user.email.endsWith("@diu.edu.bd")) {
            // Redirect to profile page
            window.location.href = "profile.html";
          } else {
            // Not a DIU email
            signOut(auth);
            document.getElementById("errorMsg").textContent = "Only DIU emails (@diu.edu.bd) are allowed for registration.";
          }
        })
        .catch((error) => {
          console.error(error);
          document.getElementById("errorMsg").textContent = "Error signing in. Please try again.";
        });
    });
  </script>
</body>
</html>
