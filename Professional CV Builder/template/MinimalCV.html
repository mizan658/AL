<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional CV Builder</title>
    <!-- Include html2pdf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- Include Google Fonts for professional typography -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #1a2b49; /* Deep navy for professional look */
            --secondary-color: #007bff; /* Professional blue */
            --accent-color: #0056b3; /* Darker blue for accents */
            --light-color: #f8f9fa; /* Light background */
            --dark-color: #212529; /* Dark text */
            --border-color: #dee2e6; /* Subtle borders */
            --success-color: #28a745; /* For buttons */
            --danger-color: #dc3545; /* For remove buttons */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f1f3f5;
            color: var(--dark-color);
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 40px auto;
            background-color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        .cv-header {
            display: flex;
            justify-content: space-between;
            padding: 40px;
            background-color: var(--light-color);
            border-bottom: 3px solid var(--secondary-color);
        }

        .header-content h1 {
            font-size: 32px;
            color: var(--primary-color);
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header-content h2 {
            font-size: 20px;
            color: var(--secondary-color);
            font-weight: 400;
            margin-bottom: 15px;
        }

        .contact-info p {
            font-size: 14px;
            margin: 5px 0;
            color: var(--dark-color);
        }

        .photo-container {
            width: 140px;
            height: 160px;
            border: 2px solid var(--secondary-color);
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .photo-placeholder {
            width: 100%;
            height: 100%;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-size: 14px;
        }

        .photo-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cv-body {
            padding: 40px;
        }

        .section {
            margin-bottom: 30px;
            page-break-inside: avoid;
        }

        .section-title {
            font-size: 20px;
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 8px;
            margin-bottom: 20px;
            font-weight: 500;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background-color: var(--accent-color);
        }

        .section-content p {
            margin: 10px 0;
            font-size: 14px;
        }

        .education-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .education-table th,
        .education-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-color);
            text-align: left;
            font-size: 14px;
        }

        .education-table th {
            background-color: var(--light-color);
            color: var(--primary-color);
            font-weight: 500;
        }

        .experience-item {
            margin-bottom: 20px;
            padding: 15px;
            background-color: var(--light-color);
            border-left: 4px solid var(--secondary-color);
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .item-title {
            font-weight: 600;
            color: var(--primary-color);
            font-size: 16px;
        }

        .item-subtitle {
            color: #6c757d;
            font-style: italic;
            font-size: 14px;
        }

        .item-date {
            color: var(--secondary-color);
            font-weight: 500;
            font-size: 14px;
        }

        .skills-list {
            columns: 2;
            column-gap: 40px;
            list-style-type: none;
            padding-left: 0;
        }

        .skill-item {
            margin-bottom: 10px;
            position: relative;
            padding-left: 20px;
            font-size: 14px;
            break-inside: avoid;
        }

        .skill-item::before {
            content: "â€¢";
            color: var(--secondary-color);
            font-weight: bold;
            position: absolute;
            left: 0;
            font-size: 18px;
        }

        .personal-details {
            width: 100%;
            border-collapse: collapse;
        }

        .personal-details td {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 14px;
        }

        .personal-details td:first-child {
            width: 30%;
            font-weight: 500;
            color: var(--primary-color);
        }

        .personal-details td:nth-child(2) {
            width: 5%;
        }

        .declaration {
            margin-top: 30px;
            padding: 20px;
            background-color: var(--light-color);
            border-radius: 4px;
            font-size: 14px;
            font-style: italic;
        }

        .signature {
            margin-top: 50px;
            text-align: right;
        }

        .signature p {
            margin-top: 20px;
            border-top: 1px solid var(--primary-color);
            display: inline-block;
            padding-top: 8px;
            font-size: 14px;
        }

        /* Form Styles */
        .builder-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 40px;
            background-color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--primary-color);
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-control:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.2);
            outline: none;
        }

        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23333' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .btn {
            padding: 12px 24px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn:hover {
            background-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-success {
            background-color: var(--success-color);
        }

        .btn-success:hover {
            background-color: #218838;
        }

        .btn-danger {
            background-color: var(--danger-color);
        }

        .btn-danger:hover {
            background-color: #c82333;
        }

        .remove-btn {
            background-color: var(--danger-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        .remove-btn:hover {
            background-color: #c82333;
        }

        .hidden {
            display: none;
        }

        .builder-section-header {
            color: var(--primary-color);
            margin: 30px 0 20px;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 8px;
            font-size: 20px;
            font-weight: 500;
            position: relative;
        }

        .builder-section-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 60px;
            height: 2px;
            background-color: var(--accent-color);
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }

        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }

        .file-input-wrapper input[type=file] {
            font-size: 100px;
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .file-input-button {
            display: block;
            padding: 12px;
            background-color: var(--light-color);
            border: 1px dashed var(--border-color);
            border-radius: 4px;
            text-align: center;
            font-size: 14px;
            color: #6c757d;
            transition: all 0.3s;
        }

        .file-input-button:hover {
            border-color: var(--secondary-color);
            background-color: #e9f5ff;
        }

        /* Print styles */
        @media print {
            body {
                background-color: white;
                font-size: 11pt;
                line-height: 1.5;
            }

            body * {
                visibility: hidden;
            }

            #cvOutput, #cvOutput * {
                visibility: visible;
            }

            #cvOutput {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                margin: 0;
                padding: 0;
                box-shadow: none;
                border: none;
            }

            .no-print {
                display: none !important;
            }

            .cv-header {
                background-color: white !important;
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }

            .education-table th,
            .education-table td,
            .experience-item,
            .declaration {
                background-color: white !important;
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }

            .section {
                page-break-inside: avoid;
            }

            @page {
                size: A4;
                margin: 15mm 10mm;
            }
        }

        @media (max-width: 768px) {
            .cv-header {
                flex-direction: column;
                align-items: center;
            }

            .photo-container {
                margin: 20px auto;
                order: -1;
            }

            .skills-list {
                columns: 1;
            }

            .form-row {
                flex-direction: column;
                gap: 15px;
            }

            .action-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .education-table th,
            .education-table td {
                font-size: 12px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="builder-container no-print" id="builder">
        <h1 style="color: var(--primary-color); margin-bottom: 30px; text-align: center; font-weight: 700;">Professional CV Builder</h1>
        
        <div class="form-row">
            <div class="form-group" style="flex: 2;">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" class="form-control" placeholder="John Doe" required>
            </div>
            <div class="form-group">
                <label for="photo">Upload Photo</label>
                <div class="file-input-wrapper">
                    <div class="file-input-button" id="fileInputLabel">
                        <span id="fileName">Choose a photo...</span>
                    </div>
                    <input type="file" id="photo" class="form-control" accept="image/*">
                </div>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="profession">Profession</label>
                <input type="text" id="profession" class="form-control" placeholder="Software Engineer" required>
            </div>
            <div class="form-group">
                <label for="mobile">Mobile</label>
                <input type="text" id="mobile" class="form-control" placeholder="+1 234 567 890" required>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" id="address" class="form-control" placeholder="123 Main St, City" required>
            </div>
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" class="form-control" placeholder="john.doe@example.com" required>
            </div>
        </div>
        
        <div class="form-group">
            <label for="careerObjective">Career Objective</label>
            <textarea id="careerObjective" class="form-control" placeholder="A brief summary of your career goals and aspirations..." required></textarea>
        </div>
        
        <h2 class="builder-section-header">Academic Qualifications</h2>
        <div id="educationItems">
            <div class="form-group education-item" style="border: 1px solid var(--border-color); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                <div class="form-row">
                    <div class="form-group">
                        <label>Level</label>
                        <select class="form-control level" required>
                            <option value="" disabled selected>Select Level</option>
                            <option value="School">School</option>
                            <option value="College">College</option>
                            <option value="University">University</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Institution Name</label>
                        <input type="text" class="form-control institution" placeholder="Institution Name" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Board/University</label>
                        <input type="text" class="form-control board" placeholder="Board or University Name" required>
                    </div>
                    <div class="form-group">
                        <label>Passing Year</label>
                        <input type="text" class="form-control year" placeholder="YYYY" required>
                    </div>
                    <div class="form-group">
                        <label>Result</label>
                        <input type="text" class="form-control result" placeholder="GPA: 3.5/4.0" required>
                    </div>
                </div>
                <button class="remove-btn remove-education">Remove</button>
            </div>
        </div>
        <button class="btn btn-success" id="addEducation">Add Education</button>
        
        <h2 class="builder-section-header">Experience</h2>
        <div id="experienceItems">
            <div class="form-group experience-item" style="border: 1px solid var(--border-color); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                <div class="form-row">
                    <div class="form-group">
                        <label>Position</label>
                        <input type="text" class="form-control position" placeholder="Software Engineer">
                    </div>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" class="form-control company" placeholder="Tech Company Inc.">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Duration</label>
                        <input type="text" class="form-control duration" placeholder="Jan 2020 - Present">
                    </div>
                </div>
                <div class="form-group">
                    <label>Responsibilities</label>
                    <textarea class="form-control responsibilities" placeholder="Describe your responsibilities and achievements..."></textarea>
                </div>
                <button class="remove-btn remove-experience">Remove</button>
            </div>
        </div>
        <button class="btn btn-success" id="addExperience">Add Experience</button>
        
        <h2 class="builder-section-header">Skills and Attributes</h2>
        <div id="skillItems">
            <div class="form-group skill-item" style="border: 1px solid var(--border-color); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                <div class="form-group">
                    <label>Skill</label>
                    <input type="text" class="form-control skill" placeholder="JavaScript, Python, etc.">
                </div>
                <button class="remove-btn remove-skill">Remove</button>
            </div>
        </div>
        <button class="btn btn-success" id="addSkill">Add Skill</button>
        
        <div class="form-group">
            <label for="languageProficiency">Language Proficiency</label>
            <textarea id="languageProficiency" class="form-control" placeholder="English (Fluent), Spanish (Intermediate)..."></textarea>
        </div>
        
        <div class="form-group">
            <label for="interests">Interests</label>
            <textarea id="interests" class="form-control" placeholder="Reading, Traveling, Photography..."></textarea>
        </div>
        
        <h2 class="builder-section-header">Personal Details</h2>
        
        <div class="form-row">
            <div class="form-group">
                <label for="fatherName">Father's Name</label>
                <input type="text" id="fatherName" class="form-control" placeholder="Father's Name">
            </div>
            <div class="form-group">
                <label for="motherName">Mother's Name</label>
                <input type="text" id="motherName" class="form-control" placeholder="Mother's Name">
            </div>
        </div>
        
                <div class="form-row">
            <div class="form-group">
                <label for="presentAddress">Present Address</label>
                <textarea id="presentAddress" class="form-control" placeholder="Your current address..."></textarea>
            </div>
            <div class="form-group">
                <label for="permanentAddress">Permanent Address</label>
                <textarea id="permanentAddress" class="form-control" placeholder="Your permanent address..."></textarea>
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="text" id="dob" class="form-control" placeholder="DD/MM/YYYY">
            </div>
            <div class="form-group">
                <label for="nationality">Nationality</label>
                <input type="text" id="nationality" class="form-control" placeholder="Your Nationality">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="nid">NID No</label>
                <input type="text" id="nid" class="form-control" placeholder="National ID Number">
            </div>
            <div class="form-group">
                <label for="religion">Religion</label>
                <input type="text" id="religion" class="form-control" placeholder="Your Religion">
            </div>
        </div>
        
        <div class="form-row">
            <div class="form-group">
                <label for="maritalStatus">Marital Status</label>
                <input type="text" id="maritalStatus" class="form-control" placeholder="Single/Married">
            </div>
            <div class="form-group">
                <label for="currentLocation">Current Location</label>
                <input type="text" id="currentLocation" class="form-control" placeholder="Your City">
            </div>
        </div>
        
        <div class="form-group" id="covidIdGroup">
            <label for="covidId">Covid-19 ID No</label>
            <div class="form-row" style="align-items: center;">
                <div class="form-group" style="flex: 1;">
                    <input type="text" id="covidId" class="form-control" placeholder="If applicable">
                </div>
                <button type="button" class="btn btn-danger" id="removeCovidId" style="width: auto; padding: 10px;">Remove</button>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn btn-success" id="generateCV" style="padding: 14px 40px; font-size: 16px;">Generate CV</button>
            <button class="btn btn-danger" id="resetForm" style="padding: 14px 40px; font-size: 16px;">Reset Form</button>
        </div>
    </div>
    
    <div class="container hidden" id="cvOutput">
        <div class="cv-header">
            <div class="header-content">
                <h1 id="cvName">Your Name</h1>
                <h2 id="cvTitle">Your Profession</h2>
                <div class="contact-info">
                    <p id="cvAddress">Your Address</p>
                    <p id="cvMobile">Mobile: Your Number</p>
                    <p id="cvEmail">Email: Your Email</p>
                </div>
            </div>
            <div class="photo-container">
                <div class="photo-placeholder" id="cvPhotoPlaceholder">Photo</div>
                <img id="cvPhoto" class="photo-preview hidden">
            </div>
        </div>

        <div class="cv-body">
            <div class="section">
                <h2 class="section-title">Career Objective</h2>
                <div class="section-content">
                    <p id="cvObjective">Your career objective goes here.</p>
                </div>
            </div>

            <div class="section" id="cvEducationSection">
                <h2 class="section-title">Academic Qualifications</h2>
                <div class="section-content">
                    <table class="education-table">
                        <thead>
                            <tr>
                                <th>Level</th>
                                <th>Institution</th>
                                <th>Board/University</th>
                                <th>Year</th>
                                <th>Result</th>
                            </tr>
                        </thead>
                        <tbody id="cvEducation">
                            <!-- Education items will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section" id="cvExperienceSection">
                <h2 class="section-title">Experience</h2>
                <div class="section-content" id="cvExperience">
                    <!-- Experience items will be inserted here -->
                </div>
            </div>

            <div class="section" id="cvSkillsSection">
                <h2 class="section-title">Skills and Attributes</h2>
                <div class="section-content">
                    <ul class="skills-list" id="cvSkills">
                        <!-- Skills will be inserted here -->
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Language Proficiency</h2>
                <div class="section-content">
                    <p id="cvLanguage">Your language proficiency details.</p>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Interests</h2>
                <div class="section-content">
                    <p id="cvInterests">Your interests and hobbies.</p>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Personal Details</h2>
                <div class="section-content">
                    <table class="personal-details">
                        <tr>
                            <td>Name</td>
                            <td>:</td>
                            <td id="pdName">Your Name</td>
                        </tr>
                        <tr>
                            <td>Father's Name</td>
                            <td>:</td>
                            <td id="pdFather">Father's Name</td>
                        </tr>
                        <tr>
                            <td>Mother's Name</td>
                            <td>:</td>
                            <td id="pdMother">Mother's Name</td>
                        </tr>
                        <tr>
                            <td>Present Address</td>
                            <td>:</td>
                            <td id="pdAddress">Your Address</td>
                        </tr>
                        <tr>
                            <td>Permanent Address</td>
                            <td>:</td>
                            <td id="pdPermanentAddress">Your Permanent Address</td>
                        </tr>
                        <tr>
                            <td>Date of Birth</td>
                            <td>:</td>
                            <td id="pdDob">Your Date of Birth</td>
                        </tr>
                        <tr>
                            <td>Nationality</td>
                            <td>:</td>
                            <td id="pdNationality">Your Nationality</td>
                        </tr>
                        <tr>
                            <td>NID No</td>
                            <td>:</td>
                            <td id="pdNid">Your NID Number</td>
                        </tr>
                        <tr>
                            <td>Religion</td>
                            <td>:</td>
                            <td id="pdReligion">Your Religion</td>
                        </tr>
                        <tr>
                            <td>Marital Status</td>
                            <td>:</td>
                            <td id="pdMarital">Your Marital Status</td>
                        </tr>
                        <tr>
                            <td>Current Location</td>
                            <td>:</td>
                            <td id="pdLocation">Your Location</td>
                        </tr>
                        <tr id="pdCovidRow">
                            <td>Covid-19 ID No</td>
                            <td>:</td>
                            <td id="pdCovid">Your Covid ID</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="declaration">
                <h2 class="section-title">Declaration</h2>
                <p>I hereby declare that all information provided in this CV is true and accurate to the best of my knowledge. If required, I can provide authentic certificates and documents to support this information.</p>
            </div>

            <div class="signature">
                <p id="cvSignature">(Your Name)</p>
                <p>Date: ___________________</p>
            </div>
        </div>
        
        <div class="no-print" style="text-align: center; padding: 20px; border-top: 1px solid var(--border-color);">
            <button class="btn btn-success" id="editCV" style="margin-right: 15px;">Edit CV</button>
            <button class="btn btn-success" id="printCV" style="margin-right: 15px;">Print CV</button>
            <button class="btn btn-success" id="downloadPDF">Download as PDF</button>
        </div>
    </div>

    <script>
        // DOM elements
        const builder = document.getElementById('builder');
        const cvOutput = document.getElementById('cvOutput');
        const generateBtn = document.getElementById('generateCV');
        const editBtn = document.getElementById('editCV');
        const printBtn = document.getElementById('printCV');
        const downloadPdfBtn = document.getElementById('downloadPDF');
        const resetBtn = document.getElementById('resetForm');
        const photoInput = document.getElementById('photo');
        const fileInputLabel = document.getElementById('fileInputLabel');
        const fileName = document.getElementById('fileName');
        const cvPhoto = document.getElementById('cvPhoto');
        const cvPhotoPlaceholder = document.getElementById('cvPhotoPlaceholder');
        const removeCovidIdBtn = document.getElementById('removeCovidId');
        const covidIdGroup = document.getElementById('covidIdGroup');
        const pdCovidRow = document.getElementById('pdCovidRow');

        // Add education item
        document.getElementById('addEducation').addEventListener('click', () => {
            const educationItems = document.getElementById('educationItems');
            const newItem = document.createElement('div');
            newItem.className = 'form-group education-item';
            newItem.style.border = '1px solid var(--border-color)';
            newItem.style.padding = '20px';
            newItem.style.borderRadius = '4px';
            newItem.style.marginBottom = '20px';
            
            newItem.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label>Level</label>
                        opts = '<option value="" disabled selected>Select Level</option><option value="School">School</option><option value="College">College</option><option value="University">University</option>';
                        <select class="form-control level" required>${opts}</select>
                    </div>
                    <div class="form-group">
                        <label>Institution Name</label>
                        <input type="text" class="form-control institution" placeholder="Institution Name" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Board/University</label>
                        <input type="text" class="form-control board" placeholder="Board or University Name" required>
                    </div>
                    <div class="form-group">
                        <label>Passing Year</label>
                        <input type="text" class="form-control year" placeholder="YYYY" required>
                    </div>
                    <div class="form-group">
                        <label>Result</label>
                        <input type="text" class="form-control result" placeholder="GPA: 3.5/4.0" required>
                    </div>
                </div>
                <button class="remove-btn remove-education">Remove</button>
            `;
            educationItems.appendChild(newItem);
            
            newItem.querySelector('.remove-education').addEventListener('click', () => {
                newItem.remove();
            });
        });

        // Add experience item
        document.getElementById('addExperience').addEventListener('click', () => {
            const experienceItems = document.getElementById('experienceItems');
            const newItem = document.createElement('div');
            newItem.className = 'form-group experience-item';
            newItem.style.border = '1px solid var(--border-color)';
            newItem.style.padding = '20px';
            newItem.style.borderRadius = '4px';
            newItem.style.marginBottom = '20px';
            
            newItem.innerHTML = `
                <div class="form-row">
                    <div class="form-group">
                        <label>Position</label>
                        <input type="text" class="form-control position" placeholder="Software Engineer">
                    </div>
                    <div class="form-group">
                        <label>Company</label>
                        <input type="text" class="form-control company" placeholder="Tech Company Inc.">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Duration</label>
                        <input type="text" class="form-control duration" placeholder="Jan 2020 - Present">
                    </div>
                </div>
                <div class="form-group">
                    <label>Responsibilities</label>
                    <textarea class="form-control responsibilities" placeholder="Describe your responsibilities and achievements..."></textarea>
                </div>
                <button class="remove-btn remove-experience">Remove</button>
            `;
            experienceItems.appendChild(newItem);
            
            newItem.querySelector('.remove-experience').addEventListener('click', () => {
                newItem.remove();
            });
        });

        // Add skill item
        document.getElementById('addSkill').addEventListener('click', () => {
            const skillItems = document.getElementById('skillItems');
            const newItem = document.createElement('div');
            newItem.className = 'form-group skill-item';
            newItem.style.border = '1px solid var(--border-color)';
            newItem.style.padding = '20px';
            newItem.style.borderRadius = '4px';
            newItem.style.marginBottom = '20px';
            
            newItem.innerHTML = `
                <div class="form-group">
                    <label>Skill</label>
                    <input type="text" class="form-control skill" placeholder="JavaScript, Python, etc.">
                </div>
                <button class="remove-btn remove-skill">Remove</button>
            `;
            skillItems.appendChild(newItem);
            
            newItem.querySelector('.remove-skill').addEventListener('click', () => {
                newItem.remove();
            });
        });

        // Photo upload
        photoInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                fileName.textContent = file.name;
                const reader = new FileReader();
                reader.onload = (event) => {
                    cvPhoto.src = event.target.result;
                    cvPhoto.classList.remove('hidden');
                    cvPhotoPlaceholder.classList.add('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        // Remove Covid ID field
        removeCovidIdBtn.addEventListener('click', () => {
            document.getElementById('covidId').value = '';
            covidIdGroup.style.display = 'none';
            pdCovidRow.style.display = 'none';
        });

        // Generate CV
        generateBtn.addEventListener('click', () => {
            // Validate required fields
            const requiredFields = ['fullName', 'profession', 'mobile', 'email', 'address', 'careerObjective'];
            let isValid = true;
            requiredFields.forEach(id => {
                const field = document.getElementById(id);
                if (!field.value.trim()) {
                    isValid = false;
                    field.style.borderColor = 'red';
                } else {
                    field.style.borderColor = '';
                }
            });

            const educationItems = document.querySelectorAll('#educationItems .education-item');
            if (educationItems.length === 0) {
                alert('Please add at least one education entry.');
                return;
            }

            educationItems.forEach(item => {
                const requiredInputs = item.querySelectorAll('input[required], select[required]');
                requiredInputs.forEach(input => {
                    if (!input.value.trim()) {
                        isValid = false;
                        input.style.borderColor = 'red';
                    } else {
                        input.style.borderColor = '';
                    }
                });
            });

            if (!isValid) {
                alert('Please fill in all required fields.');
                return;
            }

            // Basic info
            document.getElementById('cvName').textContent = document.getElementById('fullName').value || 'Your Name';
            document.getElementById('cvTitle').textContent = document.getElementById('profession').value || 'Your Profession';
            document.getElementById('cvMobile').textContent = `Mobile: ${document.getElementById('mobile').value || 'Your Number'}`;
            document.getElementById('cvEmail').textContent = `Email: ${document.getElementById('email').value || 'Your Email'}`;
            document.getElementById('cvAddress').textContent = document.getElementById('address').value || 'Your Address';
            document.getElementById('cvObjective').textContent = document.getElementById('careerObjective').value || 'Your career objective goes here.';
            document.getElementById('cvLanguage').textContent = document.getElementById('languageProficiency').value || 'Your language proficiency details.';
            document.getElementById('cvInterests').textContent = document.getElementById('interests').value || 'Your interests and hobbies.';
            document.getElementById('cvSignature').textContent = `(${document.getElementById('fullName').value || 'Your Name'})`;

            // Personal details
            document.getElementById('pdName').textContent = document.getElementById('fullName').value || 'Your Name';
            document.getElementById('pdFather').textContent = document.getElementById('fatherName').value || 'Father\'s Name';
            document.getElementById('pdMother').textContent = document.getElementById('motherName').value || 'Mother\'s Name';
            document.getElementById('pdAddress').textContent = document.getElementById('presentAddress').value || 'Your Address';
            document.getElementById('pdPermanentAddress').textContent = document.getElementById('permanentAddress').value || 'Your Permanent Address';
            document.getElementById('pdDob').textContent = document.getElementById('dob').value || 'Your Date of Birth';
            document.getElementById('pdNationality').textContent = document.getElementById('nationality').value || 'Your Nationality';
            document.getElementById('pdNid').textContent = document.getElementById('nid').value || 'Your NID Number';
            document.getElementById('pdReligion').textContent = document.getElementById('religion').value || 'Your Religion';
            document.getElementById('pdMarital').textContent = document.getElementById('maritalStatus').value || 'Your Marital Status';
            document.getElementById('pdLocation').textContent = document.getElementById('currentLocation').value || 'Your Location';

            // Show/hide Covid ID
            const covidId = document.getElementById('covidId').value;
            if (covidId) {
                document.getElementById('pdCovid').textContent = covidId;
                pdCovidRow.style.display = '';
            } else {
                pdCovidRow.style.display = 'none';
            }

            // Education
            const cvEducation = document.getElementById('cvEducation');
            cvEducation.innerHTML = '';
            document.querySelectorAll('#educationItems .education-item').forEach(item => {
                const level = item.querySelector('.level').value;
                const institution = item.querySelector('.institution').value;
                const board = item.querySelector('.board').value;
                const year = item.querySelector('.year').value;
                const result = item.querySelector('.result').value;

                if (level || institution || board || year || result) {
                    const educationHTML = `
                        <tr>
                            <td>${level || 'Level'}</td>
                            <td>${institution || 'Institution'}</td>
                            <td>${board || 'Board/University'}</td>
                            <td>${year || 'Year'}</td>
                            <td>${result || 'Result'}</td>
                        </tr>
                    `;
                    cvEducation.innerHTML += educationHTML;
                }
            });

            document.getElementById('cvEducationSection').style.display = 
                cvEducation.innerHTML.trim() === '' ? 'none' : 'block';

            // Experience
            const cvExperience = document.getElementById('cvExperience');
            cvExperience.innerHTML = '';
            document.querySelectorAll('#experienceItems .experience-item').forEach(item => {
                const position = item.querySelector('.position').value;
                const company = item.querySelector('.company').value;
                const duration = item.querySelector('.duration').value;
                const responsibilities = item.querySelector('.responsibilities').value;

                if (position || company || duration || responsibilities) {
                    const experienceHTML = `
                        <div class="experience-item">
                            <div class="item-header">
                                <div>
                                    <span class="item-title">${position || 'Position'}</span>
                                    <span class="item-subtitle">${company ? ' â€¢ ' + company : ''}</span>
                                </div>
                                <div class="item-date">${duration || 'Duration'}</div>
                            </div>
                            ${responsibilities ? `<p>${responsibilities}</p>` : ''}
                        </div>
                    `;
                    cvExperience.innerHTML += experienceHTML;
                }
            });

            document.getElementById('cvExperienceSection').style.display = 
                cvExperience.innerHTML.trim() === '' ? 'none' : 'block';

            // Skills
            const cvSkills = document.getElementById('cvSkills');
            cvSkills.innerHTML = '';
            document.querySelectorAll('#skillItems .skill-item').forEach(item => {
                const skill = item.querySelector('.skill').value;
                if (skill) {
                    const skillItem = document.createElement('li');
                    skillItem.className = 'skill-item';
                    skillItem.textContent = skill;
                    cvSkills.appendChild(skillItem);
                }
            });

            document.getElementById('cvSkillsSection').style.display = 
                cvSkills.innerHTML.trim() === '' ? 'none' : 'block';

            // Show CV and hide builder
            builder.classList.add('hidden');
            cvOutput.classList.remove('hidden');
            window.scrollTo(0, 0);
        });

        // Edit CV
        editBtn.addEventListener('click', () => {
            builder.classList.remove('hidden');
            cvOutput.classList.add('hidden');
            window.scrollTo(0, 0);
        });

        // Print CV
        printBtn.addEventListener('click', () => {
            window.print();
        });

        // Download as PDF
        downloadPdfBtn.addEventListener('click', () => {
            const element = document.getElementById('cvOutput');
            const opt = {
                margin: [15, 10, 15, 10],
                filename: `${document.getElementById('fullName').value || 'cv'}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: {
                    scale: 2,
                    letterRendering: true,
                    useCORS: true,
                    allowTaint: true,
                    logging: false,
                    dpi: 300
                },
                jsPDF: {
                    unit: 'mm',
                    format: 'a4',
                    orientation: 'portrait',
                    compress: true
                },
                pagebreak: { mode: ['avoid-all', 'css'], before: '.section', avoid: ['.education-table', '.experience-item'] }
            };

            downloadPdfBtn.textContent = 'Generating PDF...';
            downloadPdfBtn.disabled = true;

            html2pdf().set(opt).from(element).save().then(() => {
                downloadPdfBtn.textContent = 'Download as PDF';
                downloadPdfBtn.disabled = false;
            }).catch(err => {
                console.error('PDF generation error:', err);
                alert('An error occurred while generating the PDF. Please try again.');
                downloadPdfBtn.textContent = 'Download as PDF';
                downloadPdfBtn.disabled = false;
            });
        });

        // Reset form
        resetBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset the form? All data will be lost.')) {
                document.getElementById('builder').reset();
                document.getElementById('educationItems').innerHTML = `
                    <div class="form-group education-item" style="border: 1px solid var(--border-color); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Level</label>
                                <select class="form-control level" required>
                                    <option value="" disabled selected>Select Level</option>
                                    <option value="School">School</option>
                                    <option value="College">College</option>
                                    <option value="University">University</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Institution Name</label>
                                <input type="text" class="form-control institution" placeholder="Institution Name" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Board/University</label>
                                <input type="text" class="form-control board" placeholder="Board or University Name" required>
                            </div>
                            <div class="form-group">
                                <label>Passing Year</label>
                                <input type="text" class="form-control year" placeholder="YYYY" required>
                            </div>
                            <div class="form-group">
                                <label>Result</label>
                                <input type="text" class="form-control result" placeholder="GPA: 3.5/4.0" required>
                            </div>
                        </div>
                        <button class="remove-btn remove-education">Remove</button>
                    </div>
                `;
                
                document.getElementById('experienceItems').innerHTML = `
                    <div class="form-group experience-item" style="border: 1px solid var(--border-color); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                        <div class="form-row">
                            <div class="form-group">
                                <label>Position</label>
                                <input type="text" class="form-control position" placeholder="Software Engineer">
                            </div>
                            <div class="form-group">
                                <label>Company</label>
                                <input type="text" class="form-control company" placeholder="Tech Company Inc.">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Duration</label>
                                <input type="text" class="form-control duration" placeholder="Jan 2020 - Present">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Responsibilities</label>
                            <textarea class="form-control responsibilities" placeholder="Describe your responsibilities and achievements..."></textarea>
                        </div>
                        <button class="remove-btn remove-experience">Remove</button>
                    </div>
                `;
                
                document.getElementById('skillItems').innerHTML = `
                    <div class="form-group skill-item" style="border: 1px solid var(--border-color); padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                        <div class="form-group">
                            <label>Skill</label>
                            <input type="text" class="form-control skill" placeholder="JavaScript, Python, etc.">
                        </div>
                        <button class="remove-btn remove-skill">Remove</button>
                    </div>
                `;
                
                // Reset photo
                photoInput.value = '';
                fileName.textContent = 'Choose a photo...';
                cvPhoto.src = '';
                cvPhoto.classList.add('hidden');
                cvPhotoPlaceholder.classList.remove('hidden');
                
                // Reset Covid ID
                document.getElementById('covidId').value = '';
                covidIdGroup.style.display = 'block';
                pdCovidRow.style.display = '';
                
                // Reattach event listeners
                document.querySelectorAll('.remove-education').forEach(btn => {
                    btn.addEventListener('click', function() {
                        this.parentElement.remove();
                    });
                });
                
                document.querySelectorAll('.remove-experience').forEach(btn => {
                    btn.addEventListener('click', function() {
                        this.parentElement.remove();
                    });
                });
                
                document.querySelectorAll('.remove-skill').forEach(btn => {
                    btn.addEventListener('click', function() {
                        this.parentElement.remove();
                    });
                });
            }
        });

        // Initialize remove buttons
        document.querySelectorAll('.remove-education').forEach(btn => {
            btn.addEventListener('click', function() {
                this.parentElement.remove();
            });
        });
        
        document.querySelectorAll('.remove-experience').forEach(btn => {
            btn.addEventListener('click', function() {
                this.parentElement.remove();
            });
        });
        
        document.querySelectorAll('.remove-skill').forEach(btn => {
            btn.addEventListener('click', function() {
                this.parentElement.remove();
            });
        });
    </script>
</body>
</html>
